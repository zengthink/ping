{"version":3,"file":"js/853.078698df.js","mappings":"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","sources":["webpack://ping-cli/./src/assets/js/slideshow.js"],"sourcesContent":["function initCarousel() {\r\n    // 使用更通用的选择器\r\n    var arrowLeft = document.querySelector('.newsflash .left');\r\n    var arrowRight = document.querySelector('.newsflash .right');\r\n    var newsflash = document.querySelector(\".newsflash\");\r\n\r\n    // 添加元素存在性检查\r\n    if (!newsflash || !arrowLeft || !arrowRight) {\r\n        console.warn('轮播图元素未找到，等待重试...');\r\n        setTimeout(initCarousel, 100); // 100ms后重试\r\n        return;\r\n    }\r\n\r\n    var newsflashWidth = newsflash.offsetWidth;\r\n\r\n    // 清除可能已存在的事件监听器\r\n    var cloneArrowLeft = arrowLeft.cloneNode(true);\r\n    arrowLeft.parentNode.replaceChild(cloneArrowLeft, arrowLeft);\r\n    arrowLeft = cloneArrowLeft;\r\n\r\n    var cloneArrowRight = arrowRight.cloneNode(true);\r\n    arrowRight.parentNode.replaceChild(cloneArrowRight, arrowRight);\r\n    arrowRight = cloneArrowRight;\r\n\r\n    // 经过盒子显示左右箭头，离开隐藏\r\n    newsflash.addEventListener('mouseenter', function () {\r\n        arrowLeft.style.display = 'block';\r\n        arrowRight.style.display = 'block';\r\n        if (typeof time !== 'undefined') {\r\n            clearInterval(time);\r\n        }\r\n    });\r\n\r\n    newsflash.addEventListener('mouseleave', function () {\r\n        arrowLeft.style.display = 'none';\r\n        arrowRight.style.display = 'none';\r\n        if (typeof time !== 'undefined') {\r\n            clearInterval(time);\r\n        }\r\n        time = setInterval(function () {\r\n            arrowRight.click();\r\n        }, 2000);\r\n    });\r\n\r\n    // 动态生成小圆圈\r\n    var ul = newsflash.querySelector('ul');\r\n    var ol = newsflash.querySelector('ol');\r\n\r\n    // 清空可能已存在的小圆点\r\n    if (ol) {\r\n        ol.innerHTML = '';\r\n    }\r\n\r\n    if (ul && ol) {\r\n        for (var i = 0; i < ul.children.length; i++) {\r\n            var li = document.createElement('li');\r\n            ol.appendChild(li);\r\n            li.setAttribute('index', i);\r\n            // 清除可能已存在的事件监听器\r\n            var cloneLi = li.cloneNode(true);\r\n            li.parentNode.replaceChild(cloneLi, li);\r\n            cloneLi.addEventListener('click', function () {\r\n                for (var j = 0; j < ol.children.length; j++) {\r\n                    ol.children[j].className = '';\r\n                }\r\n                this.className = 'circle';\r\n                var index = this.getAttribute('index');\r\n                picture = parseInt(index);\r\n                circle = parseInt(index);\r\n                animate(ul, -index * newsflashWidth);\r\n            });\r\n        }\r\n\r\n        if (ol.children.length > 0) {\r\n            ol.children[0].className = 'circle';\r\n        }\r\n\r\n        // 清除可能已存在的克隆节点\r\n        if (ul.children.length > 4) {\r\n            while (ul.children.length > 4) {\r\n                ul.removeChild(ul.lastChild);\r\n            }\r\n        }\r\n\r\n        var first = ul.children[0].cloneNode(true);\r\n        ul.appendChild(first);\r\n    }\r\n\r\n    // 点击左右鼠标移动图片\r\n    var picture = 0;\r\n    var circle = 0;\r\n    var flag = true;\r\n\r\n    // 清除可能已存在的事件监听器\r\n    var cloneArrowLeftClick = arrowLeft.cloneNode(true);\r\n    arrowLeft.parentNode.replaceChild(cloneArrowLeftClick, arrowLeft);\r\n    arrowLeft = cloneArrowLeftClick;\r\n\r\n    var cloneArrowRightClick = arrowRight.cloneNode(true);\r\n    arrowRight.parentNode.replaceChild(cloneArrowRightClick, arrowRight);\r\n    arrowRight = cloneArrowRightClick;\r\n\r\n    // 点击左箭头\r\n    arrowLeft.addEventListener('click', function () {\r\n        if (flag && ul && ol) {\r\n            flag = false;\r\n            if (picture == 0) {\r\n                picture = ul.children.length - 1;\r\n                ul.style.left = -picture * newsflashWidth + 'px';\r\n            }\r\n            picture--;\r\n            animate(ul, -picture * newsflashWidth, function () {\r\n                flag = true;\r\n            });\r\n            circle--;\r\n            circle = circle < 0 ? ol.children.length - 1 : circle;\r\n            circleReset();\r\n        }\r\n    });\r\n\r\n    // 点击右箭头\r\n    arrowRight.addEventListener('click', function () {\r\n        if (flag && ul && ol) {\r\n            flag = false;\r\n            if (picture == ul.children.length - 1) {\r\n                picture = 0;\r\n                ul.style.left = 0;\r\n            }\r\n            picture++;\r\n            animate(ul, -picture * newsflashWidth, function () {\r\n                flag = true;\r\n            });\r\n            circle++;\r\n            circle = circle == ol.children.length ? 0 : circle;\r\n            circleReset();\r\n        }\r\n    });\r\n\r\n    // 图片自动播放\r\n    if (typeof time !== 'undefined') {\r\n        clearInterval(time);\r\n    }\r\n    var time = setInterval(function () {\r\n        if (arrowRight) {\r\n            arrowRight.click();\r\n        }\r\n    }, 2000);\r\n\r\n    // 封装显示当前小圆点\r\n    function circleReset() {\r\n        if (!ol) return;\r\n        for (var i = 0; i < ol.children.length; i++) {\r\n            ol.children[i].className = '';\r\n        }\r\n        if (circle >= ol.children.length) {\r\n            circle = 0;\r\n        }\r\n        if (ol.children[circle]) {\r\n            ol.children[circle].className = 'circle';\r\n        }\r\n    }\r\n\r\n    // 动画函数\r\n    function animate(obj, target, callback) {\r\n        if (!obj) return;\r\n        clearInterval(obj.time);\r\n        obj.time = setInterval(function () {\r\n            var step = (target - obj.offsetLeft) / 10;\r\n            step = step > 0 ? Math.ceil(step) : Math.floor(step);\r\n            if (obj.offsetLeft == target) {\r\n                clearInterval(obj.time);\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            } else {\r\n                obj.style.left = obj.offsetLeft + step + 'px';\r\n            }\r\n        }, 15);\r\n    }\r\n\r\n    return true;\r\n}\r\n// // DOM加载完成后初始化轮播图\r\nwindow.addEventListener('load', function () {\r\n    initCarousel();\r\n});"],"names":["initCarousel","arrowLeft","document","querySelector","arrowRight","newsflash","console","warn","setTimeout","newsflashWidth","offsetWidth","cloneArrowLeft","cloneNode","parentNode","replaceChild","cloneArrowRight","addEventListener","style","display","time","clearInterval","setInterval","click","ul","ol","innerHTML","i","children","length","li","createElement","appendChild","setAttribute","cloneLi","j","className","this","index","getAttribute","picture","parseInt","circle","animate","removeChild","lastChild","first","flag","cloneArrowLeftClick","cloneArrowRightClick","left","circleReset","obj","target","callback","step","offsetLeft","Math","ceil","floor","window"],"sourceRoot":""}